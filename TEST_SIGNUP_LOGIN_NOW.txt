╔══════════════════════════════════════════════════════════════╗
║  🎯 TEST ĐĂNG KÝ & ĐĂNG NHẬP NGAY - ĐÃ SỬA XONG!          ║
╚══════════════════════════════════════════════════════════════╝

✅ ĐÃ SỬA:
   - Backend lưu tài khoản khi đăng ký
   - Login kiểm tra cả tài khoản đã đăng ký
   - Backend đã restart trên port 5000

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

📋 BƯỚC 1: CLEAR DỮ LIỆU CỦ
────────────────────────────────────────────────────────────

1. Mở http://localhost:3000
2. Nhấn F12 → Console tab
3. Chạy lệnh:
   
   localStorage.clear()
   location.reload()

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

📋 BƯỚC 2: ĐĂNG KÝ TÀI KHOẢN MỚI
────────────────────────────────────────────────────────────

1. Vào: http://localhost:3000/signup

2. Điền form:
   ┌─────────────────────────────────────┐
   │ Name: Test User                     │
   │ Email: testnew@example.com          │
   │ Password: test123                   │
   └─────────────────────────────────────┘

3. Click "Đăng ký"

4. ✅ Chuyển sang trang login

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

📋 BƯỚC 3: ĐĂNG NHẬP
────────────────────────────────────────────────────────────

1. Ở trang login, điền:
   ┌─────────────────────────────────────┐
   │ Email: testnew@example.com          │
   │ Password: test123                   │
   └─────────────────────────────────────┘

2. Click "Đăng nhập"

3. ✅ Kỳ vọng:
   - Đăng nhập thành công!
   - Redirect về /profile
   - Hiển thị thông tin user

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

🔍 KIỂM TRA REDUX STATE
────────────────────────────────────────────────────────────

Mở Redux DevTools (F12 → Redux tab):

State sau khi login:
┌────────────────────────────────────────────┐
│ auth: {                                    │
│   isAuthenticated: true,            ✅     │
│   user: {                                  │
│     email: "testnew@example.com",          │
│     name: "Test User",                     │
│     role: "user"                           │
│   },                                       │
│   accessToken: "jwt...",            ✅     │
│   refreshToken: "jwt..."            ✅     │
│ }                                          │
└────────────────────────────────────────────┘

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

🧪 TEST BỔ SUNG
────────────────────────────────────────────────────────────

TEST 1: Email đã tồn tại
   - Đăng ký lại: testnew@example.com / abc456
   - ❌ "Email đã được đăng ký!"

TEST 2: Sai mật khẩu
   - Login: testnew@example.com / wrongpassword
   - ❌ "Email hoặc mật khẩu không đúng!"

TEST 3: Tài khoản demo vẫn hoạt động
   - Login: admin@example.com / 123456
   - ✅ Thành công - Role: admin

TEST 4: Page refresh
   - Đang login → F5 refresh
   - ✅ Vẫn còn login

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

📊 BACKEND LOGS
────────────────────────────────────────────────────────────

Kiểm tra terminal backend, phải thấy:

Khi đăng ký:
   ✅ Đăng ký thành công: testnew@example.com

Khi đăng nhập:
   ✅ Đăng nhập thành công: testnew@example.com - Role: user

Khi đăng nhập sai:
   ❌ Đăng nhập thất bại: testnew@example.com

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

🎯 TÓM TẮT NGUYÊN NHÂN LỖI
────────────────────────────────────────────────────────────

TRƯỚC ĐÂY:
❌ Backend KHÔNG LƯU tài khoản khi đăng ký
❌ Login CHỈ kiểm tra 3 tài khoản demo:
   - admin@example.com
   - mod@example.com
   - user@example.com
❌ → Đăng ký testnew@example.com → Không login được!

SAU KHI SỬA:
✅ Backend LƯU tài khoản vào usersStore
✅ Login kiểm tra CẢ tài khoản đã đăng ký
✅ → Đăng ký xong → Login được ngay!

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

📄 CHI TIẾT:
   Xem file: FIX_SIGNUP_LOGIN_ISSUE.md

🚀 BẮT ĐẦU TEST NGAY!
